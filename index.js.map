{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Dokümantasyonda belirtilen import\nimport iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Dokümantasyonda belirtilen import\nimport SimpleLightbox from 'simplelightbox';\n// Stil importu\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\n\nconst input = document.querySelector('.input');\n\nconst div = document.querySelector('.gallery');\n\nconst loading = document.querySelector('.loading');\n\nconst BASE_URL = 'https://pixabay.com/api/?';\n\nconst key = '47340779-69736f13d332e70374a06741a';\n\nlet inputValue = '';\nlet photos = [];\n\ninput.addEventListener('input', e => {\n  inputValue = e.target.value;\n});\n\nfunction getPhotos() {\n  inputValue = input.value.trim();\n\n  if (!inputValue) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  resetPhotos();\n\n  let searchParams = {\n    key: '47340779-69736f13d332e70374a06741a',\n    q: inputValue,\n    image_tpye: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const params = new URLSearchParams(searchParams);\n\n  fetch(`${BASE_URL}${params.toString()}`)\n    .then(response => response.json())\n    .then(data => {\n      photos = data.hits;\n      if (photos.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        resetPhotos();\n      } else {\n        displayPhotos();\n      }\n    })\n    .catch(error => console.error(error))\n    .finally(() => {\n      document.querySelector('.loading').remove();\n    });\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  getPhotos();\n  input.value = '';\n});\n\nfunction resetPhotos() {\n  div.innerHTML = '<span class=\"loading\"></span>';\n}\n\nfunction displayPhotos() {\n  let gallery = '';\n  photos.forEach(photo => {\n    const markUp = ` \n      <li class=\"image\">\n            <a class=\"image-link\" href=\"${photo.largeImageURL}\"><img class=\"img\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"></a>\n            <div class=\"image-info\">\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Likes</span> \n               <span class=\"desc value\">${photo.likes}</span> \n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Views</span> \n               <span class=\"desc value\">${photo.views}</span> \n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Comments</span> \n               <span class=\"desc value\">${photo.comments}</span>\n              </p>\n              <p class=\"image-desc\">\n               <span class=\"desc title\">Downloads</span> \n               <span class=\"desc value\">${photo.downloads}</span>\n              </p>\n            </div>\n        </li>\n    `;\n    gallery += markUp;\n  });\n  div.innerHTML = gallery;\n  new SimpleLightbox('.image-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n}\n"],"names":["form","input","div","BASE_URL","inputValue","photos","e","getPhotos","iziToast","resetPhotos","searchParams","params","response","data","displayPhotos","error","gallery","photo","markUp","SimpleLightbox"],"mappings":"6vBAUA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAQ,SAAS,cAAc,QAAQ,EAEvCC,EAAM,SAAS,cAAc,UAAU,EAE7B,SAAS,cAAc,UAAU,EAEjD,MAAMC,EAAW,4BAIjB,IAAIC,EAAa,GACbC,EAAS,CAAA,EAEbJ,EAAM,iBAAiB,QAASK,GAAK,CACnCF,EAAaE,EAAE,OAAO,KACxB,CAAC,EAED,SAASC,GAAY,CAGnB,GAFAH,EAAaH,EAAM,MAAM,OAErB,CAACG,EAAY,CACfI,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAChB,CAAK,EACD,MACD,CAEDC,IAEA,IAAIC,EAAe,CACjB,IAAK,qCACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,MAAMO,EAAS,IAAI,gBAAgBD,CAAY,EAE/C,MAAM,GAAGP,CAAQ,GAAGQ,EAAO,SAAU,CAAA,EAAE,EACpC,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZR,EAASQ,EAAK,KACVR,EAAO,SAAW,GACpBG,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDC,KAEAK,GAER,CAAK,EACA,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACb,SAAS,cAAc,UAAU,EAAE,OAAM,CAC/C,CAAK,CACL,CAEAf,EAAK,iBAAiB,SAAUM,GAAK,CACnCA,EAAE,eAAc,EAChBC,IACAN,EAAM,MAAQ,EAChB,CAAC,EAED,SAASQ,GAAc,CACrBP,EAAI,UAAY,+BAClB,CAEA,SAASY,GAAgB,CACvB,IAAIE,EAAU,GACdX,EAAO,QAAQY,GAAS,CACtB,MAAMC,EAAS;AAAA;AAAA,0CAEuBD,EAAM,aAAa,2BAA2BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,0CAIpFA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MAKrDD,GAAWE,CACf,CAAG,EACDhB,EAAI,UAAYc,EAChB,IAAIG,EAAe,cAAe,CAChC,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,CACH"}